#!/bin/sh
# Sync AI tool configurations after commit
# Flow: Claude Code (.claude/) â†’ rulesync (.rulesync/) â†’ Cursor (.cursor/)

echo "ðŸ”„ Syncing AI tool configurations..."

# Step 1: Import from Claude Code (.claude/) to rulesync format (.rulesync/)
echo "  ðŸ“¥ Claude Code â†’ rulesync..."
bunx rulesync@latest import -t claudecode || echo "  âš ï¸ Import failed"

# Step 2: Export from rulesync (.rulesync/) to Cursor (.cursor/)
echo "  ðŸ“¤ rulesync â†’ Cursor..."
bunx rulesync@latest generate -t cursor || echo "  âš ï¸ Export failed"

# Step 3: Remove redundant overview.mdc (Cursor reads CLAUDE.md directly)
rm -f .cursor/rules/overview.mdc 2>/dev/null

echo "âœ… AI tool sync complete"
